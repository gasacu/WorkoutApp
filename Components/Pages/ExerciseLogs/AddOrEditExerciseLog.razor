@page "/exerciselog/add/{WorkoutId:int}"
@page "/exerciselog/edit/{ExerciseLogId:int}"
@attribute [StreamRendering]
@rendermode InteractiveServer

<PageTitle>Add Exercise Log</PageTitle>
<h3>Add a new Exercise Log for workout: @workout.Name</h3><hr />



<EditForm Model="@exerciseLog" OnValidSubmit="@Save" FormName="AddExerciseLogForm">
    <DataAnnotationsValidator />

    <div class="form-group">
        <label style="font-weight: 600">Exercise:</label>
        <div>
            <InputSelect @bind-Value="exerciseLog.ExerciseId" class="form-control col-sm-3">
                <option value="">--Select exercise--</option>
                @foreach (var exercise in exercises)
                {
                    <option value="@exercise.Id">@exercise.Description</option>
                }
            </InputSelect>
            <ValidationMessage For="@(() => exerciseLog.ExerciseId)" />
        </div>
    </div>
    <div class="form-group">
        <label style="font-weight: 600">Reps :</label>
        <InputNumber @bind-Value="@exerciseLog.Reps" class="form-control col-sm-3" />
        <ValidationMessage For="@(() => @exerciseLog.Reps)" />
    </div>
    <div class="form-group">
        <label style="font-weight: 600">Duration :</label>
        <InputNumber @bind-Value="@exerciseLog.Duration" class="form-control col-sm-3" />
        <ValidationMessage For="@(() => @exerciseLog.Duration)" />
    </div>
    @if (ExerciseLogId == null)
    {
        <div class="form-group">
            <Button Class="PrimaryButton" Style="color: #fff" Type="ButtonType.Submit" Margin="Margin.Is3.FromTop">
                Save
            </Button>
            <Button Class="SecondaryButton" Style="color: #fff" Type="ButtonType.Link" To="workouts" Margin="Margin.Is3.FromTop">Back to List</Button>
        </div>
    }
    else
    {
        <div class="form-group">
            <Button Class="PrimaryButton" Style="color: #fff" Type="ButtonType.Submit" Margin="Margin.Is3.FromTop">
                Save
            </Button>
            <Button Class="SecondaryButton" Style="color: #fff" Type="ButtonType.Link" To="exerciselogs" Margin="Margin.Is3.FromTop">Back to List</Button>
        </div>
    }

</EditForm>
